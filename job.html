<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title></title>
        <style type="text/css">
        	label{
        	    margin-right: 10px;
        	}
        	.res{
        	    font-size: 80px;
        	    font-family: "微软雅黑";
        	    font-weight: bold;
        	    text-align: center;
        	    
        	}
        </style>
    </head>
    <body>
        
        <div class="checkbox">
            
        </div>
        <input type="checkbox" name="all" id="all" value="" /><label for="all" class="sss">全选</label>
        <hr />
        <input type="button" name="" id="btn" value="我该玩那个" />
        <p class="res"></p>
        <script type="text/javascript">
        	function rnd(n,m){
                return parseInt(n+Math.random()*(m-n));     
            }
        	
        	function $qe(sel){
                return document.querySelector(sel);
            }
        	
        	var job=[
                {'jobEn':'lr','jobName':'猎人'},
                {'jobEn':'fs','jobName':'法师'},
                {'jobEn':'qs','jobName':'骑士'},
                {'jobEn':'ms','jobName':'牧师'},
                {'jobEn':'dk','jobName':'死骑'},
                {'jobEn':'zs','jobName':'战士'},
                {'jobEn':'ss','jobName':'术士'},
                {'jobEn':'sm','jobName':'萨满'},
                {'jobEn':'dz','jobName':'盗贼'},
                {'jobEn':'ws','jobName':'武僧'},
                {'jobEn':'dh','jobName':'恶魔猎手'}
            ];
            
            
            function creatJob(job){
                var chbox=$qe('.checkbox');
                for(var i=0;i<job.length;i++){
                    var c=document.createElement('input');
                    c.type='checkbox';
                    c.name=job[i].jobEn;
                    c.id=job[i].jobEn;
                    c.value=job[i].jobName;
                    chbox.appendChild(c);
                    var l=document.createElement('label');
                    l.htmlFor=job[i].jobEn;
                    l.innerHTML=job[i].jobName;
                    chbox.appendChild(l);
                }
            }
        	creatJob(job);
        	
        	var cs=document.querySelectorAll('.checkbox [type=checkbox]');
        	
        	
        	
        	$qe('#all').onchange=function(){
        	    if(this.checked){
        	        for(var i=0;i<cs.length;i++){
                        cs[i].checked=true;
                    }
        	    }else{
        	        for(var i=0;i<cs.length;i++){
                        cs[i].checked=false;
                    }
        	    }
        	}
        	
        	var n=0;
        	for(var i=0;i<cs.length;i++){
        	    cs[i].onchange=function(){
        	        n=0;
        	        for(var i=0;i<cs.length;i++){
        	            if(cs[i].checked){
                           n++;
                        }
        	        }
        	        if(n==11){
        	            $qe('#all').checked=true;
        	        }else{
        	            $qe('#all').checked=false;
        	        }
        	    }
        	}
        	
        	$qe('#btn').onclick=function(){
        	    var arr=[];
        	    for(var i=0;i<cs.length;i++){
        	        if(cs[i].checked){
        	            arr.push(cs[i].value);
        	        }
        	    }
        	    if(arr.length==0){
        	        alert('还没选呢!');
        	        return;
        	    }
        	    
        	    var x=100;
        	    function active(){      
        	        if(x==0) return;
        	        x--;
        	        setTimeout(function(){
        	            $qe('.res').innerText=arr[rnd(0,arr.length)];
        	            $qe('.res').style.color='rgb('+rnd(0,255)+','+rnd(0,255)+','+rnd(0,255)+')';
        	            active();
        	        },Math.abs(Math.pow(-1.01,x)*50));
        	    }        	    
        	    active();
        	}
        	
        </script>
    </body>
</html>
